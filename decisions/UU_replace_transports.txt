country_decisions = {
    uu_replace_transports = {
        potential = {
            ai = no 
            num_of_transport = 1
            dip_tech = 3
        }

        allow = {
            custom_trigger_tooltip = {
                tooltip = uu_replace_transports_trigger_tt
                any_owned_province = {
                    num_of_units_in_province = {
                        who = ROOT
                        type = transport
                        amount = 1
                    }
                }
            }
            is_at_war = no
        }

        effect = {
            custom_tooltip = uu_replace_transports_desc
            hidden_effect = {
                export_to_variable = {
                    which = uu_transports_counter_var
                    value = trigger_value:num_of_transport
                }
                if = {
                    limit = {
                        capital_scope = {
                            has_port = yes
                        }
                    }
                    capital_scope = {
                        set_province_flag = uu_transport_target_flag
                    }
                } else_if = {
                    limit = {
                        any_owned_province = { 
                            has_port = yes
                            is_overseas = no
                        }
                    }   
                    random_owned_province = {
                        limit = { 
                            has_port = yes
                            is_overseas = no 
                        }
                        set_province_flag = uu_transport_target_flag
                    }
                } else = {
                    random_owned_province = {
                        limit = { has_port = yes }
                        set_province_flag = uu_transport_target_flag
                    }
                }
                while = {
                    limit = { 
                        check_variable = {
                            which = uu_transports_counter_var
                            value = 1
                        }
                    }
                    add_treasury = -20
                    every_owned_province = {
                        limit = { has_province_flag = uu_transport_target_flag }
                        voc_indiamen_light = ROOT
                    }
                    subtract_variable = {
                        which = uu_transports_counter_var
                        value = 1
                    }
                }
                every_province = {
                    limit = {
                        transports_in_province = ROOT
                    }
                    kill_units = {
                        who = ROOT
                        type = transport
                    }
                }
                every_owned_province = { clr_province_flag = uu_transport_target_flag }
            }
        }
    }
}

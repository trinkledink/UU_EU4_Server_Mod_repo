country_decisions = {
    uu_recolorsubjects = {
        color = { 232 48 2 }

        potential = {
            ai = no 
            any_subject_country = { 
                OR = {
                    is_march = yes
                    is_vassal = yes
                }
                NOT = { is_subject_of_type = daimyo_vassal }
                NOT = { is_subject_of_type = appanage }
                NOT = { has_country_flag = uu_overlord_colour }
            }
        }

        allow = {
            any_subject_country = { 
                OR = {
                    is_march = yes
                    is_vassal = yes
                }
                NOT = { is_subject_of_type = daimyo_vassal }
                NOT = { is_subject_of_type = appanage }
                custom_trigger_tooltip = {
                    tooltip = uu_overlord_colour_tt
                    NOT = { has_country_flag = uu_overlord_colour }
                }
            }
        }

        effect = {
            custom_tooltip = uu_recolorsubjects_desc
            hidden_effect = {
                every_subject_country = {
                    limit = {
                        OR = {
                            is_march = yes
                            is_vassal = yes
                        }
                        NOT = { is_subject_of_type = daimyo_vassal }
                        NOT = { is_subject_of_type = appanage }
                        NOT = { has_country_flag = uu_overlord_colour }
                    }
                    change_country_color = { country = overlord }
                    set_country_flag = uu_overlord_colour
                }
            }
        }
    }
    uu_fra_recolorsubjects = {
        color = { 20 50 210 }

        potential = {
            ai = no
            tag = FRA 
            any_subject_country = { 
               is_subject_of_type = appanage
                NOT = { has_country_flag = uu_overlord_colour }
            }
        }

        allow = {
            tag = FRA
            any_subject_country = { 
                is_subject_of_type = appanage
                custom_trigger_tooltip = {
                    tooltip = uu_overlord_colour_tt
                    NOT = { has_country_flag = uu_overlord_colour }
                }
            }
        }

        effect = {
            custom_tooltip = uu_fra_recolorsubjects_desc
            hidden_effect = {
                every_subject_country = {
                    limit = {
                        is_subject_of_type = appanage
                        NOT = { has_country_flag = uu_overlord_colour }
                    }
                    if = {
                        limit = { tag = ORL }
                        change_country_color = { color = { 70 50 190 } }
                    } else_if = {
                        limit = { tag = AMG }
                        change_country_color = { color = { 70 90 230 } } 
                    } else_if = {
                        limit = { tag = BOU }
                        change_country_color = { color = { 10 70 205 } } 
                    } else_if = {
                        limit = { tag = AUV }
                        change_country_color = { color = { 70 60 170 } } 
                    } else_if = {
                        limit = { tag = FOI }
                        change_country_color = { color = { 30 50 175 } } 
                    } else_if = {
                        limit = { tag = ALE }
                        change_country_color = { color = { 70 50 220 } } 
                    }
                    set_country_flag = uu_overlord_colour
                }
            }
        }
    }
    uu_restore_color = {
        color = { 232 48 2 }

        potential = {
            has_country_flag = uu_overlord_colour
            OR = { #either a player nation, or fulfils the 'allow' conditions.
                ai = no 
                AND = {
                    is_march = no
                    is_vassal = no
                    NOT = { is_subject_of_type = appanage }
                }
                is_subject_of_type = daimyo_vassal
            }
        }

        allow = {
            OR = {
                AND = {
                    is_march = no
                    is_vassal = no
                }
                is_subject_of_type = daimyo_vassal
            }  
        }

        effect = {
            tooltip = {
                restore_country_color = yes
            }
            hidden_effect = {
                clr_country_flag = uu_overlord_colour
                uu_special_color_effect = yes
            }
        }

        ai_will_do = {
            factor = 1
        }
    }

    uu_restore_color_overlord = {
        color = { 232 48 2 }

        potential = {
            ai = no 
            any_subject_country = {
                has_country_flag = uu_overlord_colour
            }
        }

        allow = {
            any_subject_country = {
                has_country_flag = uu_overlord_colour
            }
        }

        effect = {
            custom_tooltip = uu_restore_color_overlord_desc
            hidden_effect = {
                every_subject_country = {
                    limit = { has_country_flag = uu_overlord_colour }
                    hidden_effect = {
                        clr_country_flag = uu_overlord_colour
                        uu_special_color_effect = yes
                    }
                }
            }
        }
    }
}

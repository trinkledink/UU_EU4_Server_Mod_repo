##### NON LUBECK ONLY

country_decisions = {
	declare_hanseatic_league = {
		major = yes
		potential = {
			normal_or_historical_nations = yes
			was_never_end_game_tag_trigger = yes
			NOT = { has_country_flag = formed_hsa_flag }
			OR = {
				ai = no
				is_playing_custom_nation = no
			}
			OR = {
				is_free_or_tributary_trigger = yes
				ai = no
			}
			NOT = { tag = HLR }
			NOT = { tag = PAP }
			NOT = { tag = GBR }
			OR = {
				culture_group = germanic
				tag = GOT
				tag = RIG
				tag = DNZ
			}
			is_colonial_nation = no
			OR = {
				is_former_colonial_nation = no
				AND = {
					is_former_colonial_nation = yes
					ai = no
				}
			}
			owns = 45
			OR = {
				has_mission = hsa_unite_hanseatic_league_mission
				NOT = { num_of_cities = 25 }
			}
		}
		provinces_to_highlight = {
			OR = {
				province_id = 45
				province_id = 44
				province_id = 1874
			}
			OR = {
				NOT = { owned_by = ROOT }
				NOT = { is_core = ROOT }
			}
		}
		allow = {
			is_at_war = no
			is_subject = no #no tributary
			is_nomad = no
			is_revolutionary = no
			government = republic
			custom_trigger_tooltip = {
				tooltip = uu_hansa_no_exist_tt
				all_country = {
					NOT = {
						AND = { 
							num_of_cities = 1
							OR = {
								has_country_flag = formed_hsa_flag
								has_country_flag = hsa_proclaimed_queen_of_the_hansa_flag
							}
						}
					}
				}
			}			
			owns_core_province = 44 #Hamburg 
			owns_core_province = 45 #Lubeck 
			owns_core_province = 1874 #Bremen
			45 = { is_state = yes }
			OR = {
				mission_completed = hsa_unite_hanseatic_league_mission
				NOT = { num_of_cities = 25 }
			}
			45 = { is_strongest_trade_power = ROOT }
		}
		effect = {
			45 = { move_capital_effect = yes }
			if = {
				limit = {
					NOT = { has_country_flag = hsa_proclaimed_queen_of_the_hansa_flag }
					OR = {
						tag = HAM 
						tag = BRE 
						tag = HSA
					}
				}
				override_country_name = UUHSA
				custom_tooltip = uuhsa_newmissions_core_tt
				hidden_effect = {
					set_country_flag = hsa_proclaimed_queen_of_the_hansa_flag
					swap_non_generic_missions = yes
				}
			} else_if = {
				limit = {
					NOT = { has_country_flag = hsa_proclaimed_queen_of_the_hansa_flag }
					OR = {
						tag = BRU #Lower Saxons
						tag = LUN
						tag = CLB
						tag = HAN
						tag = POM #Pomeranians
						tag = RUG
						tag = WOL
						tag = STE
					}
				}
				override_country_name = UUHSA
				set_country_flag = hsa_proclaimed_queen_of_the_hansa_flag
				swap_non_generic_missions = yes
			}
			custom_tooltip = reform_hanseatic_league_tt
			if = {
				limit = {
					OR = {
						is_part_of_hre = no
						is_elector = yes
					}
					NOT = { government_rank = 2 }
				}
				set_government_rank = 2
			}
			if = { 
				limit = { 
					NOT = { has_reform = merchants_reform } #Merchant Republic  
					NOT = { has_reform = venetian_merchant_republic } #This counts as a merchant republic
					NOT = { has_reform = pirate_republic_reform } #meme time 
					NOT = { has_reform = veche_republic } #This counts as a merchant republic
					NOT = { has_reform = great_veche_republic } #This counts as a merchant republic
				}
				custom_tooltip = become_merchant_republic_tt
				hidden_effect = { 
					change_government = republic
					add_government_reform = merchants_reform
					add_republican_tradition = 100 
				}
			}
			add_country_modifier = {
				name = "centralization_modifier"
				duration = 7300
			}
			add_prestige = 25
			set_country_flag = formed_hsa_flag
			if = {
				limit = { has_custom_ideas = no }
				country_event = { id = ideagroups.1 } #Swap Ideas
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				NOT = { government = republic }
			}
			modifier = {
				factor = 0
				has_reform = free_city
			}
			#modifier = {
			#	factor = 0
			#	exists = HSA
			#}
		}
		ai_importance = 400
	}
	uuhsa_rename_decision = {
		potential = {
			has_country_flag = hsa_proclaimed_queen_of_the_hansa_flag 
			NOT = { has_country_flag = uuhsa_rename_decision_flag }
		}
		allow = {
			always = yes
		}
		effect = {
			country_event = {
				id = UU_balance_events.6
			}
			set_country_flag = uuhsa_rename_decision_flag
		}
		ai_will_do = {
			factor = 0
		}
		ai_importance = 0
	}
}